<form [formGroup]="registerForm" (ngSubmit)="onSubmit()">

  <app-shared-input
    label="Email"
    type="email"
    [formControl]="emailControl"
    [invalid]="emailControl.invalid && emailControl.touched"
    errorMessage="Email invalide"
  ></app-shared-input>

  <app-shared-input
    label="Mot de passe"
    type="password"
    [formControl]="passwordControl"
    [invalid]="passwordControl.invalid && passwordControl.touched"
    errorMessage="Mot de passe requis"
  ></app-shared-input>

  <app-shared-input
    label="Confirmer le mot de passe"
    type="password"
    [formControl]="confirmPasswordControl"
    [invalid]="(registerForm.hasError('passwordMismatch') && confirmPasswordControl.touched)"
    errorMessage="Les mots de passe ne correspondent pas"
  ></app-shared-input>

  <app-shared-button
    type="submit"
    [disabled]="loading"
    [loading]="loading"
    label="CrÃ©er un compte"
  ></app-shared-button>

  <div *ngIf="errorMessage" class="error">
    {{ errorMessage }}
  </div>

  <div class="login-link">
    <a [routerLink]="['/login']">Se connecter</a>
  </div>

</form>
